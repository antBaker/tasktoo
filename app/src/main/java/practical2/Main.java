/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package practical2;


import com.fasterxml.jackson.dataformat.xml.XmlMapper;
import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;


import java.io.InputStreamReader;
import java.nio.charset.StandardCharsets;
import java.util.List;

public class Main {

    public static class Records {
        @JacksonXmlElementWrapper(useWrapping = false)
        public List<Record> record;
    }

    public static void main(String[] args) {
        try {
            InputStreamReader reader = new InputStreamReader(
            Main.class.getClassLoader().getResourceAsStream("data.xml"),
            StandardCharsets.UTF_8
            );
            

            XmlMapper xmlMapper = new XmlMapper();
            Records records = xmlMapper.readValue(reader, Records.class);

            for (Record rec : records.record) {
                System.out.println("========== Record ==========");
                System.out.println(rec);
            }
            System.out.println("Testing UTF-8 output: São Paulo, Québec, München, 東京");

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}